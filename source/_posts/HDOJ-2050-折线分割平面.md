---
title: HDOJ 2050 折线分割平面
date: 2018-11-28 21:13:14
categories: 
- 算法相关
tags:
- 直线分割图
- HDOJ
---
<meta name="referrer" content="no-referrer"/>
我们看到过很多直线分割平面的题目，今天的这个题目稍微有些变化，我们要求的是n条折线分割平面的最大数目。比如，一条折线可以将平面分成两部分，两条折线最多可以将平面分成7部分，具体如下所示。 
![img](http://acm.hdu.edu.cn/data/images/C40-1008-1.jpg) 

Input输入数据的第一行是一个整数C,表示测试实例的个数，然后是C 行数据，每行包含一个整数n(0<n<=10000),表示折线的数量。 

Output对于每个测试实例，请输出平面的最大分割数，每个实例的输出占一行。 

Sample Input

```
2
1
2
```

Sample Output

```
2
7
```


解题思路：
　　本题给出测试数量c，每组测试给出一个数字n为折线的数量。要求计算出平面的最大分割数。

　　我们先不管折线，我们分析一下2n条直线可以将可以将平面分为多少份

```
直线数量：0    分割数量：1
直线数量：1    分割数量：1 + 1 = 2
直线数量：2    分割数量：2 + 2 = 4
直线数量：3    分割数量：4 + 3 = 7
直线数量：4    分割数量：7 + 4 = 11
直线数量：5    分割数量：11 + 5 = 16
直线数量：6    分割数量：16 + 6 = 22
……
直线数量：n    分割数量：1 + 1 + 2 + 3 + 4 + …… + n
```

现在在看一下折线

　　一条折线可以看作2条直线，现在再看这个图仿佛变了些什么

![img](https://img2018.cnblogs.com/blog/1447131/201811/1447131-20181128205529962-1876256551.png)

　　每捏起一个点便会少分割两个平面，而一条折线相当与两条直线捏起一个点。

```
直线数量：0    分割数量：1                                    
直线数量：1    分割数量：1 + 1 = 2                                 
直线数量：2    分割数量：2 + 2 = 4       斜线数量：1     分割数量：2 = 4 - 2  
直线数量：3    分割数量：4 + 3 = 7
直线数量：4    分割数量：7 + 4 = 11     斜线数量：2     分割数量：7 = 11 - 4  
直线数量：5    分割数量：11 + 5 = 16
直线数量：6    分割数量：16 + 6 = 22   斜线数量：3     分割数量：16 = 22 - 6 
……
直线数量：2n    分割数量：1 + 1 + 2 + …… + 2n   
斜线数量：n   分割数量：1 + 1 + 2 + …… + 2n - 1
找到了规律，获得了巨大的快乐
```

　　这样求n条折线分割平面数量就转化为了求2n - 1条直线分割平面数量

　　而且n最大为1e4而且有多组数据，这当然要快乐打表。

AC代码

```
#include <bits/stdc++.h>
using namespace std;
const int maxn = 1e4+10;
int temp[2 * maxn + 100];   //temp[i]记录i条直线最大分割平面数
int ans[maxn + 10]; //ans[i]记录i条折线最大分割平面数
void init(){
    ans[1] = 2;
    temp[1] = 2;
    int cnt = 1;    //cnt记录直线数量
    for(int i = 2; i < 2 * maxn; i++){  //直线数量1~2 * maxn
        temp[i] = temp[i - 1] + i;
        if(i % 2 == 0 && i > 2){    //每当i为2的倍数时记录折线答案
            cnt++;
            ans[cnt] = temp[i - 1];
        }
    }
}
int main()
{
    int c;
    init(); //快乐打表
    while(scanf("%d", &c) != EOF){  //输入测试数量
        for(int i = 0; i < c; i++){
            int n;
            scanf("%d", &n);    //输入折线数量
            printf("%d\n", ans[n]); //输出答案
        }
    }
    return 0;
}
```

