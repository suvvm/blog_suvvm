---
title: 进程间通信的六种方式
date: 2020-05-03 19:56:30
categories: 
- 理论归纳
tags:
- OS
---

# 进程间通信的六种方式

## 管道

### 匿名管道（Pipe）

- 将父进程的输出流重定向为子进程的输入流
- 实现方式为在内存中开辟管道缓冲区，缓冲区分为两部分，读端和写段
- 半双工，只能由父进程向子进程传输数据

### 流管道（S_pipe）

- 在匿名管道的基础上实现了全双工，父进程与子进程可以相互传输数据

### 命名管道（Named pipe）

- 在上述管道的基础上实现了无亲缘关系的多个并发进程之间的通信

## 信号Signal

信号是一种类似终端的异步事件，使用很广泛，比如平时终止进程常用的ctrl + c信号SIGINT，kill -9发数的SIGKILL信号等。

程序的信号处理函数就像OS的中断处理函数一般，收到指定信号就去处理它。

## 信号量

信号量是一种用于实现同步的工具，一般用于限制对临界资源的使用，用以保证硬件资源的互斥使用。主要有P与V两种操作

- P(target) 若目标值大于零就减一为零就阻塞请求进程
- V(target) 恢复一个等待该目标资源的进程，无进程则目标资源加一

## 消息队列

使用消息队列OS会为对应这些进程开辟一块内存区域，但对应进程并不会将其添加至地址空间，可用于分布式系统或一般进程通信。

而是由开发人员设计消息传递工具以提供对这部分空间的操作。

消息传递工具提供send和receive两种操作，指明进程或“邮箱”。

## 套接字

可用于一般进程或不同主机进程通信，设计了一种客户端/服务器的通信方式

服务器进程可以接受客户端进程的连接并创建套接字

有流和数据报两种形式，流使用TCP/IP协议实现可靠传输，数据报使用UDP/IP实现不可靠传输。

## 共享内存

OS为需要通信的进程开辟一块公共的内存空间，需要建立通信的进程将其附加至其本身的内存空间，这样各个进程尝试对公共内存空间的访问将不会被内核禁止。

