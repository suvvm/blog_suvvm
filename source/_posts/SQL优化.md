---
title: SQL优化
date: 2020-04-24 14:45:40
categories: 
- 理论归纳
tags:
- 数据库
---

# SQL优化

在优化查询时要尽量走索引，避免全表扫描。

- 为where与order by所涉及的属性添加索引
- 尽量确保查询的属性中没有null值，可通过为属性添加默认0值解决
- 查询时不使用如+、-、*、/、>、<、!=等字段表达式，使用时将导致全表扫描
- 避免使用in、not in、or，使用将致全表扫描，or可用union代替
- 避免使用任何not运算
- 使用like时尽量不再关键词前加通配符%，关键词起始位加%必将导致全表扫描
- 在where子句中使用复合索引时应使用索引第一字段，否则不会使用索引
- 将一个表中的索引数量维持在3个左右，不要创建太多索引
- 比较数值比比较字符串开销要小很多
- Innodb若存在字符不完全填充时中使用varchar查询效率高一些
- 不使用select * 返回无用字段
- 尽量设计小事务提高并发能力

